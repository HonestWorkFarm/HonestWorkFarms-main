{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/mike/Documents/Work/repos/HonestWorkFarms-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mike/Documents/Work/repos/HonestWorkFarms-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/home/mike/Documents/Work/repos/HonestWorkFarms-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  display: flex;\\n  font-size: 14px;\\n  justify-content: space-between;\\n  margin-bottom: 8px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 0px;\\n  justify-content: 'space-between';\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  margin-left: auto;\\n  margin-right: auto;\\n  background-image: url('/images/egg/stats.png');\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-size: cover;\\n    min-width: 10%;\\n  min-height: 10%;\\n  width: 100%;\\n  height: auto;\\n  \\n  \\n  \\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useCallback}from'react';import{Card,CardBody,Heading,Text,LinkExternal,Button}from'@pancakeswap-libs/uikit';import BigNumber from'bignumber.js/bignumber';import styled from'styled-components';import{getBalanceNumber}from'utils/formatBalance';import{useTotalSupply,useBurnedBalance}from'hooks/useTokenBalance';import useI18n from'hooks/useI18n';import{getCakeAddress}from'utils/addressHelpers';import CardValue from'./CardValue';import{useFarms,usePriceCakeBusd}from'../../../state/hooks';import rug from'./rug.png';var StyledCakeStats=styled(Card)(_templateObject());var Wrapper=styled.div(_templateObject2());var Row=styled.div(_templateObject3());var token=getCakeAddress();var CakeStats=function CakeStats(){var TranslateString=useI18n();var totalSupply=useTotalSupply();var burnedBalance=useBurnedBalance(getCakeAddress());var farms=useFarms();var eggPrice=usePriceCakeBusd();var circSupply=totalSupply?totalSupply.minus(burnedBalance):new BigNumber(0);var cakeSupply=getBalanceNumber(circSupply);var marketCap=eggPrice.times(circSupply);var honestPerBlock=0;var burnValue=eggPrice.times(burnedBalance);var cakePrice=usePriceCakeBusd();if(farms&&farms[0]&&farms[0].honestPerBlock){honestPerBlock=new BigNumber(farms[0].honestPerBlock).div(new BigNumber(10).pow(18)).toNumber();}var addWatchJaguarToken=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var provider,wasAdded;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nprovider=window.ethereum;if(!provider){_context.next=11;break;}_context.prev=2;_context.next=5;return provider.request({method:'wallet_watchAsset',params:{type:'ERC20',options:{address:token,symbol:'honest',decimals:'18',image:'/logo.png'}}});case 5:wasAdded=_context.sent;if(wasAdded){console.log('Token was added');}_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);case 11:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);})),[]);return/*#__PURE__*/_jsx(StyledCakeStats,{children:/*#__PURE__*/_jsxs(CardBody,{margin:24,children:[/*#__PURE__*/_jsx(Heading,{size:\"xl\",mb:\"24px\",children:\"\\uD83D\\uDE9C Stats\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:\"honest Price\"}),/*#__PURE__*/_jsx(CardValue,{fontSize:\"14px\",value:eggPrice.toNumber(),decimals:2,prefix:\"$\"})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:\"Total Supply\"}),/*#__PURE__*/_jsx(Text,{bold:true,fontSize:\"14px\",children:getBalanceNumber(totalSupply)})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:\"Circulating Supply\"}),cakeSupply&&/*#__PURE__*/_jsx(CardValue,{fontSize:\"14px\",value:cakeSupply,decimals:0})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:\"Tokens to be farmed\"}),/*#__PURE__*/_jsx(CardValue,{fontSize:\"14px\",value:getBalanceNumber(burnedBalance),decimals:0})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:TranslateString(999,'Market Cap')}),/*#__PURE__*/_jsx(CardValue,{fontSize:\"14px\",value:getBalanceNumber(marketCap),decimals:0,prefix:\"$\"})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:\" \\uD83D\\uDE9C/block\"}),/*#__PURE__*/_jsx(Text,{bold:true,fontSize:\"14px\",children:honestPerBlock})]}),/*#__PURE__*/_jsx(Row,{style:{marginTop:'24px'},children:/*#__PURE__*/_jsx(LinkExternal,{small:true,href:\"https://polygonscan.com/token/\".concat(token),children:token})}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://rugdoc.io/project/honest-farms/\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{width:\"155px\",src:rug,alt:\"rug\"})}),/*#__PURE__*/_jsxs(Button,{onClick:addWatchJaguarToken,size:\"sm\",children:[\"+ Add \\uD83D\\uDE9C to \",/*#__PURE__*/_jsx(\"img\",{style:{marginLeft:8},width:16,src:\"https://jaguarswap.com/images/tokens/metamask.png\",alt:\"metamask logo\"})]})]})]})});};export default CakeStats;","map":{"version":3,"sources":["/home/mike/Documents/Work/repos/HonestWorkFarms-main/src/views/Home/components/CakeStats.tsx"],"names":["React","useCallback","Card","CardBody","Heading","Text","LinkExternal","Button","BigNumber","styled","getBalanceNumber","useTotalSupply","useBurnedBalance","useI18n","getCakeAddress","CardValue","useFarms","usePriceCakeBusd","rug","StyledCakeStats","Wrapper","div","Row","token","CakeStats","TranslateString","totalSupply","burnedBalance","farms","eggPrice","circSupply","minus","cakeSupply","marketCap","times","honestPerBlock","burnValue","cakePrice","pow","toNumber","addWatchJaguarToken","provider","window","ethereum","request","method","params","type","options","address","symbol","decimals","image","wasAdded","console","log","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, {useCallback} from 'react'\nimport { Card, CardBody, Heading, Text, LinkExternal, Button } from '@pancakeswap-libs/uikit'\nimport BigNumber from 'bignumber.js/bignumber'\nimport styled from 'styled-components'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { useTotalSupply, useBurnedBalance } from 'hooks/useTokenBalance'\nimport useI18n from 'hooks/useI18n'\nimport { getCakeAddress } from 'utils/addressHelpers'\nimport CardValue from './CardValue'\nimport { useFarms, usePriceCakeBusd, usePriceCakeBnb } from '../../../state/hooks'\nimport rug from  './rug.png'\n\nconst StyledCakeStats = styled(Card)`\n  margin-left: auto;\n  margin-right: auto;\n  background-image: url('/images/egg/stats.png');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n    min-width: 10%;\n  min-height: 10%;\n  width: 100%;\n  height: auto;\n  \n  \n  \n`\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 0px;\n  justify-content: 'space-between';\n`\n\nconst Row = styled.div`\n  align-items: center;\n  display: flex;\n  font-size: 14px;\n  justify-content: space-between;\n  margin-bottom: 8px;\n`\n\nconst token = getCakeAddress();\n\nconst CakeStats = () => {\n  const TranslateString = useI18n()\n  const totalSupply = useTotalSupply()\n  const burnedBalance = useBurnedBalance(getCakeAddress())\n  const farms = useFarms();\n  const eggPrice = usePriceCakeBusd();\n  const circSupply = totalSupply ? totalSupply.minus(burnedBalance) : new BigNumber(0);\n  const cakeSupply = getBalanceNumber(circSupply);\n  const marketCap = eggPrice.times(circSupply);\n  let honestPerBlock = 0;\n  const burnValue = eggPrice.times(burnedBalance);\n  const cakePrice = usePriceCakeBusd();\n  if(farms && farms[0] && farms[0].honestPerBlock){\n    honestPerBlock = new BigNumber(farms[0].honestPerBlock).div(new BigNumber(10).pow(18)).toNumber();\n  }\n\n  const addWatchJaguarToken = useCallback(async () => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const provider = window.ethereum\n    if (provider) {\n      try {\n        // wasAdded is a boolean. Like any RPC method, an error may be thrown.\n        const wasAdded = await provider.request({\n          method: 'wallet_watchAsset',\n          params: {\n            type: 'ERC20',\n            options: {\n              address: token,\n              symbol: 'honest',\n              decimals: '18',\n              image: '/logo.png',\n            },\n          },\n        })\n\n        if (wasAdded) {\n          console.log('Token was added')\n        }\n      } catch (error) {\n        // TODO: find a way to handle when the user rejects transaction or it fails\n      }\n    }\n  }, [])\n\n\n  return (\n    <StyledCakeStats>\n      <CardBody margin={24}>\n        <Heading size=\"xl\" mb=\"24px\">\n        🚜 Stats\n        </Heading>\n        <Row>\n          <Text fontSize=\"14px\">honest Price</Text>\n          <CardValue fontSize=\"14px\" value={eggPrice.toNumber()} decimals={2} prefix=\"$\" />\n        </Row>\n        <Row>\n          <Text fontSize=\"14px\">Total Supply</Text>\n          <Text bold fontSize=\"14px\">{getBalanceNumber(totalSupply)}</Text>\n        </Row>\n        <Row>\n          <Text fontSize=\"14px\">Circulating Supply</Text>\n          {cakeSupply && <CardValue fontSize=\"14px\" value={cakeSupply} decimals={0} />}\n        </Row>\n        <Row>\n          <Text fontSize=\"14px\">Tokens to be farmed</Text>\n          <CardValue fontSize=\"14px\" value={getBalanceNumber(burnedBalance)} decimals={0} />\n        </Row>\n        \n        <Row>\n          <Text fontSize=\"14px\">{TranslateString(999, 'Market Cap')}</Text>\n          <CardValue fontSize=\"14px\" value={getBalanceNumber(marketCap)} decimals={0} prefix=\"$\" />\n        </Row>\n        <Row>\n          <Text fontSize=\"14px\"> 🚜/block</Text>\n          <Text bold fontSize=\"14px\">{honestPerBlock}</Text>\n        </Row>\n        <Row style={{marginTop: '24px'}}>\n          <LinkExternal small href={`https://polygonscan.com/token/${token}`}>\n            {token}\n          </LinkExternal>\n        </Row>\n        <Wrapper>\n          <a href=\"https://rugdoc.io/project/honest-farms/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <img width=\"155px\" src={rug} alt=\"rug\"/>\n          </a>\n          <Button onClick={addWatchJaguarToken} size=\"sm\">\n            + Add 🚜 to <img style={{ marginLeft: 8 }} width={16} src=\"https://jaguarswap.com/images/tokens/metamask.png\" alt=\"metamask logo\" />\n          </Button>\n          </Wrapper>\n      </CardBody>\n    </StyledCakeStats>\n  )\n}\n\nexport default CakeStats\n"]},"metadata":{},"sourceType":"module"}